<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragment::header}">

</head>

<body id="page-top">

<!-- Page Wrapper -->
<div id="wrapper">

    <div th:replace="~{fragment::sidebar}"></div>

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

        <!-- Main Content -->
        <div id="content">

            <div th:replace="~{fragment::topbar}"></div>


            <div class="container-fluid">
                <h1 class="h3 mb-2 text-gray-800" th:text="${title}"></h1>
                <!-- Begin Page Content -->
                <form th:action="@{/books/do-edit}" method="post" th:object="${book}" enctype="multipart/form-data">
                    <input type="hidden" class="form-control" id="bookId" name="bookId" th:field="*{id}">

                    <!--                    <div class="flex-row d-flex">-->
                    <!--                        <img style="height: 150px; width: 150px; margin: 0 auto;" th:src="@{/img/sach1.jpg}"-->
                    <!--                             alt="Day la hinh anh sach">-->
                    <!--                    </div>-->

                    <div class="row">
                        <div class="col-md-12" style="display: flex; justify-content: center; flex-direction: column;">

                            <img class="col-xs-12 text-center"
                                 th:src="@{'data:image/jpeg;base64,' + ${book.cover}}" alt=""
                                 style="margin-top: 20px; height: 150px; width: 150px;">
                            <input type="file" id="imageProduct" name="imageProduct" class="file-upload-default"
                                   style="padding: 8px 0px;">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3 mt-3">
                                <label for="title" class="form-label">Title:</label>
                                <input type="text" class="form-control" id="title" placeholder="Enter title"
                                       name="title" th:field="*{title}">
                            </div>

                            <div class="mb-3 mt-3">
                                <label for="isbn" class="form-label">ISBN:</label>
                                <input type="text" class="form-control" id="isbn" placeholder="Enter isbn" name="isbn"
                                       th:field="*{isbn}">
                            </div>

                            <div class="mb-3 mt-3">
                                <label for="authors" class="form-label">Author:</label>
                                <select id="authors" th:field="*{author}"
                                        name="authors" class="form-control">
                                    <option th:value="null">-Select-</option>
                                    <option th:each="authorChoose : ${authors}"
                                            th:value="${authorChoose.id}"
                                            th:text="${authorChoose.name}"></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3 mt-3">
                                <label for="page" class="form-label">Page:</label>
                                <input type="number" class="form-control" id="page" placeholder="Enter page" name="page"
                                       th:field="*{page}">
                            </div>

                            <div class="mb-3 mt-3">
                                <label for="language" class="form-label">Language:</label>
                                <input type="text" class="form-control" id="language" placeholder="Enter language"
                                       name="language" th:field="*{language}">
                            </div>

                            <div class="mb-3 mt-3-">
                                <label for="description" class="form-label">Description:</label>
                                <textarea class="form-control" rows="5" id="description" name="description"
                                          placeholder="Enter description" th:field="*{description}"></textarea>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
                <!-- /.container-fluid -->
            </div>

        </div>
        <!-- End of Main Content -->

        <div th:replace="~{fragment::footer}"></div>

    </div>
    <!-- End of Content Wrapper -->

</div>
<!-- End of Page Wrapper -->

<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>


<div th:replace="~{fragment::script}"></div>
<script th:src="@{https://cdn.ckeditor.com/ckeditor5/23.0.0/classic/ckeditor.js}"></script>

<script>
    ClassicEditor
        .create(document.querySelector('#description'))
        .catch(error => {
            console.error(error);
        });
</script>

</body>

</html>